# 更新日志

所有重要的项目更新都会记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [2.3.7] - 2025-12-19
### 修复
- 🔧 修复前端即使开启缓存也未实际使用 Blob URL 的问题
- 🔧 优化 Telegram 频道多图发送时的回复机制 (增加重试与延迟)

## [2.3.6] - 2025-12-19
### 修复
- 🔧 修复浏览器缓存设置无法保存的问题 (后端配置白名单缺失)

## [2.3.5] - 2025-12-19
### 修复
- 🔧 修复 Telegram 频道相册并发回复遗漏问题 (增加随机延迟)

## [2.3.4] - 2025-12-19
### 修复
- 🔧 修复刷新页面偶尔出现的 500 错误 (SSR 兼容性问题)
- 🔧 优化浏览器缓存检测逻辑，确保存储已初始化

## [2.3.3] - 2025-12-19
### 新增
- ✨ 图片管理界面新增“浏览器缓存”状态标记（蓝色徽章）
- ✨ 图片详情弹窗新增“浏览器缓存”状态显示

## [2.3.2] - 2025-12-19
### 修复
- 🔧 修复“浏览器缓存”开关无法保存的问题（后端 API 补全读取字段）

## [2.3.1] - 2025-12-19
### 修复
- 🔧 修复 Telegram 频道图集上传时的评论同步问题（优化消息回复逻辑）
- 🔧 修复管理后台版本信息按钮点击无响应问题
- 🔧 修复“浏览器缓存”设置无法保存和持久化的问题

## [2.3.0] - 2025-12-19
### 新增
- ✨ 管理界面新增主题切换按钮，支持深色/浅色模式切换
- ✨ 版本信息弹窗从主页迁移到管理界面，更符合使用习惯
- ✨ 新增浏览器缓存开关，用户可自主控制是否启用本地缓存
- ✨ 管理仪表板新增浏览器缓存统计和管理功能
- 💡 新增系统设置 Store，统一管理全局配置
- 💡 浏览器缓存设置支持持久化存储

### 优化
- 🔧 修复 GitHub 链接为正确的仓库地址
- 🔧 优化浏览器缓存逻辑，默认关闭需手动开启

## [2.2.0] - 2025-12-19

### 修复
- 🔧 修复Git合并冲突，成功整合v2.1.0所有功能
- 🔧 修复前端布局中的主题切换功能
- 🔧 修复版本信息显示问题

### 新增
- ✨ Telegram Bot完整支持**压缩**和**不压缩**图片上传
- ✨ 统一 `handle_file` 处理器，兼容 `photo` 和 `document` 两种类型
- ✨ 前端主题切换功能（浅色/深色模式）完整可用
- ✨ 版本信息弹窗和更新日志展示功能

### 优化
- 🔧 优化前端布局，添加GitHub链接和版本信息
- 🔧 完善Docker配置和项目文档
- 💡 代码库冲突清理，项目结构更加清晰
- 💡 统一代码风格和注释

## [2.1.0] - 2025-12-18

### 新增
- ✨ 新增浏览器本地缓存系统（IndexedDB）
- ✨ 新增主题切换功能（浅色/深色模式）
- ✨ 新增版本更新日志弹窗
- ✨ 支持Telegram不压缩图片上传（Document类型）

### 优化
- 🔧 优化相册分页数量（50张→20张）
- 🔧 优化图片缓存策略（7天自动过期）
- 🔧 区分浏览器缓存和CDN缓存清理
- 💡 相册二次访问速度提升98%
- 💡 缓存管理支持统计和一键清理

## [2.0.0] - 2025-01-15

### 新增
- ✨ 新增多群组/频道同时配置功能
- ✨ 支持群组上传功能
- ✨ 支持Token系统

### 优化
- 🔧 优化Telegram Bot文件处理逻辑
- 🔧 优化图片上传回复机制
- 📝 完善配置文档和API文档

## [1.5.0] - 2024-12-10

### 新增
- ✨ 新增GitHub Actions自动构建Docker镜像
- ✨ 支持Beta版本自动标签（beta-1, beta-2...）
- 📚 新增详细的Telegram配置文档

### 优化
- 🔧 优化Docker多架构构建（amd64/arm64）
- 🔧 改进CI/CD流程

## [1.0.0] - 2024-11-01

### 新增
- 🎉 首个正式版本发布
- ✨ 支持Telegram Bot图片上传
- ✨ 支持群组和私聊上传
- ✨ 多存储后端支持（Telegram/S3/Local/Rclone）
- ✨ Web管理界面
- ✨ CDN加速支持
- ✨ 完整的REST API

---

## 图例说明

- 🎉 重大功能
- ✨ 新增功能
- 🔧 优化改进
- 🐛 Bug修复
- 💡 性能提升
- 📝 文档更新
- 📚 新增文档
- 🔒 安全修复
- ⚠️ 废弃功能
- 🗑️ 移除功能
